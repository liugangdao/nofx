# å¹‚çº§é¿è®©åŠŸèƒ½å¿«é€Ÿä¸Šæ‰‹

## ä»€ä¹ˆæ˜¯å¹‚çº§é¿è®©ï¼Ÿ

å¹‚çº§é¿è®©æ˜¯ä¸€ç§æ™ºèƒ½é£æ§æœºåˆ¶ï¼Œå½“ç³»ç»Ÿæ£€æµ‹åˆ°æ­¢æŸè§¦å‘æ—¶ï¼Œä¼šè‡ªåŠ¨æš‚åœäº¤æ˜“ã€‚æ¯æ¬¡æ­¢æŸåï¼Œä¼‘æ¯æ—¶é—´å‘ˆæŒ‡æ•°å¢é•¿ï¼Œé¿å…åœ¨ä¸åˆ©å¸‚åœºä¸­è¿ç»­äºæŸã€‚

**ç¤ºä¾‹**ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š
- ç¬¬1æ¬¡æ­¢æŸ â†’ ä¼‘æ¯45åˆ†é’Ÿ
- ç¬¬2æ¬¡æ­¢æŸ â†’ ä¼‘æ¯2å°æ—¶
- ç¬¬3æ¬¡æ­¢æŸ â†’ ä¼‘æ¯5.3å°æ—¶
- ç¬¬4æ¬¡æ­¢æŸ â†’ ä¼‘æ¯6å°æ—¶ï¼ˆè¾¾åˆ°ä¸Šé™ï¼‰

## å¿«é€Ÿå¯ç”¨

### 1. ä¿®æ”¹é…ç½®æ–‡ä»¶

åœ¨ `config.json` ä¸­ä¸ºä½ çš„ trader æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "traders": [
    {
      "id": "my_trader",
      "name": "My Trader",
      "enable_exponential_backoff": true,
      "backoff_base_minutes": 45,
      "backoff_multiplier": 2.67,
      "backoff_max_minutes": 360,
      "backoff_reset_hours": 24,
      ...å…¶ä»–é…ç½®
    }
  ]
}
```

### 2. å¯åŠ¨ç³»ç»Ÿ

```bash
go run main.go
```

### 3. è§‚å¯Ÿæ—¥å¿—

å¯ç”¨åï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼çš„æ—¥å¿—ï¼š

```
âš™ï¸  [My Trader] å¹‚çº§é¿è®©å·²å¯ç”¨: åŸºç¡€45åˆ†é’Ÿ, å€æ•°2.67, æœ€å¤§360åˆ†é’Ÿ, 24å°æ—¶é‡ç½®
ğŸ›‘ æ£€æµ‹åˆ°æ­¢æŸè§¦å‘ï¼ˆç¬¬1æ¬¡ï¼‰ï¼šBTCUSDT_long
   æ­¢æŸä»·: 95000.0000 | å½“å‰ä»·: 94800.0000 | å…¥åœºä»·: 96000.0000
   è´¦æˆ·æ€»é¢: 1000.00 -> 985.50 (-14.50)
â¸ å¹‚çº§é¿è®©å¯åŠ¨ï¼šæš‚åœäº¤æ˜“45åˆ†é’Ÿï¼ˆè‡³15:30:00ï¼‰
```

## é…ç½®å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | æ¨èå€¼ |
|------|------|--------|--------|
| `enable_exponential_backoff` | æ˜¯å¦å¯ç”¨ | false | true |
| `backoff_base_minutes` | ç¬¬1æ¬¡æ­¢æŸä¼‘æ¯æ—¶é—´ | 45 | 30-60 |
| `backoff_multiplier` | æ¯æ¬¡å¢é•¿å€æ•° | 2.67 | 2.0-3.0 |
| `backoff_max_minutes` | æœ€å¤§ä¼‘æ¯æ—¶é—´ | 360 | 240-480 |
| `backoff_reset_hours` | å¤šä¹…é‡ç½®è®¡æ•°å™¨ | 24 | 12-48 |

## å¸¸è§åœºæ™¯é…ç½®

### ä¿å®ˆå‹ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```json
{
  "enable_exponential_backoff": true,
  "backoff_base_minutes": 60,
  "backoff_multiplier": 3.0,
  "backoff_max_minutes": 480,
  "backoff_reset_hours": 48
}
```
- ç¬¬1æ¬¡ï¼š60åˆ†é’Ÿ
- ç¬¬2æ¬¡ï¼š3å°æ—¶
- ç¬¬3æ¬¡ï¼š8å°æ—¶

### å¹³è¡¡å‹ï¼ˆæ¨èï¼‰
```json
{
  "enable_exponential_backoff": true,
  "backoff_base_minutes": 45,
  "backoff_multiplier": 2.67,
  "backoff_max_minutes": 360,
  "backoff_reset_hours": 24
}
```
- ç¬¬1æ¬¡ï¼š45åˆ†é’Ÿ
- ç¬¬2æ¬¡ï¼š2å°æ—¶
- ç¬¬3æ¬¡ï¼š5.3å°æ—¶

### æ¿€è¿›å‹ï¼ˆç»éªŒä¸°å¯Œï¼‰
```json
{
  "enable_exponential_backoff": true,
  "backoff_base_minutes": 30,
  "backoff_multiplier": 2.0,
  "backoff_max_minutes": 240,
  "backoff_reset_hours": 12
}
```
- ç¬¬1æ¬¡ï¼š30åˆ†é’Ÿ
- ç¬¬2æ¬¡ï¼š1å°æ—¶
- ç¬¬3æ¬¡ï¼š2å°æ—¶

## å…³é—­åŠŸèƒ½

å¦‚æœä¸éœ€è¦æ­¤åŠŸèƒ½ï¼Œè®¾ç½®ä¸ºï¼š
```json
{
  "enable_exponential_backoff": false
}
```

## æ³¨æ„äº‹é¡¹

1. **ä¸‰é‡éªŒè¯**ï¼šä»·æ ¼æ¥è¿‘æ­¢æŸä»· + è´¦æˆ·æ€»é¢å‡å°‘ + æŒä»“æ¶ˆå¤±
2. **ä¸å½±å“ç°æœ‰æŒä»“**ï¼šæš‚åœæœŸé—´ï¼Œç°æœ‰æŒä»“ç»§ç»­ä¿ç•™
3. **ç‹¬ç«‹è¿è¡Œ**ï¼šä¸åŸæœ‰çš„ `max_daily_loss` ç­‰é£æ§ç‹¬ç«‹
4. **é€‚ç”¨æ‰€æœ‰äº¤æ˜“æ‰€**ï¼šç®€å•å¯é ï¼Œä¸ä¾èµ–ç‰¹å®šAPI
5. **é¿å…è¯¯åˆ¤**ï¼šæ­¢ç›ˆä¸ä¼šè§¦å‘é¿è®©ï¼ˆå› ä¸ºè´¦æˆ·æ€»é¢å¢åŠ ï¼‰

## å®Œæ•´ç¤ºä¾‹

å‚è€ƒ `config.json.backoff_example` æ–‡ä»¶æŸ¥çœ‹å®Œæ•´é…ç½®ç¤ºä¾‹ã€‚

## è¯¦ç»†æ–‡æ¡£

æŸ¥çœ‹ `EXPONENTIAL_BACKOFF.md` äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚ã€‚
