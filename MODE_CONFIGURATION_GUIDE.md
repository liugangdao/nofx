# æ¨¡å¼é…ç½®æŒ‡å—ï¼šäº¤æ˜“æœºå™¨äºº vs ä»“ä½ç®¡ç†å™¨

## æ¦‚è¿°

ç³»ç»Ÿç°åœ¨æ”¯æŒä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š
- **TM (Trading Machine)** - äº¤æ˜“æœºå™¨äººï¼šè‡ªåŠ¨å¯»æ‰¾æœºä¼šå¹¶å¼€ä»“
- **PM (Position Manager)** - ä»“ä½ç®¡ç†å™¨ï¼šåªç®¡ç†ç°æœ‰ä»“ä½ï¼Œä¸å¼€æ–°ä»“

## é…ç½®æ–¹å¼

åœ¨ `config.json` ä¸­ï¼Œæ¯ä¸ª trader é…ç½®éƒ½éœ€è¦æŒ‡å®š `mode` å­—æ®µï¼š

```json
{
  "traders": [
    {
      "id": "my_trader",
      "name": "My Trader",
      "enabled": true,
      "mode": "tm",  // ğŸ‘ˆ æŒ‡å®šæ¨¡å¼ï¼štm æˆ– pm
      "ai_model": "deepseek",
      "exchange": "binance",
      ...
    }
  ]
}
```

## æ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | TM (äº¤æ˜“æœºå™¨äºº) | PM (ä»“ä½ç®¡ç†å™¨) |
|------|----------------|----------------|
| **ä¸»è¦åŠŸèƒ½** | å¯»æ‰¾äº¤æ˜“æœºä¼šå¹¶å¼€ä»“ | ç®¡ç†ç°æœ‰ä»“ä½ |
| **å¼€æ–°ä»“** | âœ… æ˜¯ | âŒ å¦ |
| **ç®¡ç†æŒä»“** | âœ… æ˜¯ | âœ… æ˜¯ |
| **å¸ç§æ± ** | éœ€è¦é…ç½® | ä¸éœ€è¦ |
| **æ‰«æé—´éš”** | å»ºè®® 3-5 åˆ†é’Ÿ | å»ºè®® 5-10 åˆ†é’Ÿ |
| **é€‚ç”¨åœºæ™¯** | å…¨è‡ªåŠ¨äº¤æ˜“ | åŠè‡ªåŠ¨ç®¡ç† |

## äº¤æ˜“æœºå™¨äºº (TM) é…ç½®

### å®Œæ•´ç¤ºä¾‹

```json
{
  "id": "binance_trader",
  "name": "Binance Auto Trader",
  "enabled": true,
  "mode": "tm",
  "ai_model": "deepseek",
  "exchange": "binance",
  "binance_api_key": "your_api_key",
  "binance_secret_key": "your_secret_key",
  "deepseek_key": "your_deepseek_key",
  "initial_balance": 1000,
  "scan_interval_minutes": 3
}
```

### ç‰¹ç‚¹

- è‡ªåŠ¨æ‰«æå¸ç§æ± å¯»æ‰¾äº¤æ˜“æœºä¼š
- æ ¹æ®æŠ€æœ¯æŒ‡æ ‡å’ŒAIåˆ†æå¼€ä»“
- ç®¡ç†æŒä»“ï¼ˆåŠ ä»“ã€å‡ä»“ã€å¹³ä»“ã€ç§»åŠ¨æ­¢æŸï¼‰
- æ”¯æŒé£é™©æ§åˆ¶ï¼ˆæœ€å¤§äºæŸã€æœ€å¤§å›æ’¤ï¼‰

### é€‚ç”¨åœºæ™¯

1. **å…¨è‡ªåŠ¨äº¤æ˜“**ï¼šå¸Œæœ›ç³»ç»Ÿè‡ªåŠ¨å¯»æ‰¾æœºä¼šå¹¶äº¤æ˜“
2. **å¤šå¸ç§ç­–ç•¥**ï¼šåŒæ—¶ç›‘æ§å¤šä¸ªå¸ç§
3. **24/7 è¿è¡Œ**ï¼šæ— éœ€äººå·¥å¹²é¢„

## ä»“ä½ç®¡ç†å™¨ (PM) é…ç½®

### å®Œæ•´ç¤ºä¾‹

```json
{
  "id": "binance_position_manager",
  "name": "Binance Position Manager",
  "enabled": true,
  "mode": "pm",
  "ai_model": "deepseek",
  "exchange": "binance",
  "binance_api_key": "your_api_key",
  "binance_secret_key": "your_secret_key",
  "deepseek_key": "your_deepseek_key",
  "initial_balance": 1000,
  "scan_interval_minutes": 5
}
```

### ç‰¹ç‚¹

- **åªç®¡ç†ç°æœ‰ä»“ä½**ï¼Œä¸ä¼šå¼€æ–°ä»“
- è‡ªåŠ¨è¯»å–äº¤æ˜“æ‰€çš„æ­¢ç›ˆæ­¢æŸè®¢å•
- æ”¯æŒä¸¤é˜¶æ®µç§»åŠ¨æ­¢ç›ˆç­–ç•¥
- åŸºäºè¶…çº§è¶‹åŠ¿åŠ¨æ€è°ƒæ•´æ­¢æŸ

### é€‚ç”¨åœºæ™¯

1. **æ‰‹åŠ¨å¼€ä»“ + AIç®¡ç†**ï¼šä½ æ‰‹åŠ¨å¼€ä»“ï¼ŒAIå¸®ä½ ç®¡ç†
2. **å¤šè´¦æˆ·åä½œ**ï¼šä¸€ä¸ªè´¦æˆ·å¼€ä»“ï¼Œå¦ä¸€ä¸ªè´¦æˆ·ç®¡ç†
3. **é£é™©æ§åˆ¶**ï¼šä¸“æ³¨äºä¿æŠ¤åˆ©æ¶¦å’Œæ§åˆ¶é£é™©
4. **å­¦ä¹ æ¨¡å¼**ï¼šè§‚å¯ŸAIå¦‚ä½•ç®¡ç†ä»“ä½

## æ··åˆä½¿ç”¨

ä½ å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ª TM å’Œ PMï¼š

```json
{
  "traders": [
    {
      "id": "trader_1",
      "mode": "tm",
      "name": "ä¸»äº¤æ˜“æœºå™¨äºº",
      ...
    },
    {
      "id": "trader_2",
      "mode": "tm",
      "name": "å¤‡ç”¨äº¤æ˜“æœºå™¨äºº",
      ...
    },
    {
      "id": "manager_1",
      "mode": "pm",
      "name": "ä»“ä½ç®¡ç†å™¨",
      ...
    }
  ]
}
```

### æ··åˆç­–ç•¥ç¤ºä¾‹

**ç­–ç•¥ 1ï¼šä¸»ä»æ¨¡å¼**
- TM è´Ÿè´£å¼€ä»“ï¼ˆä¿å®ˆç­–ç•¥ï¼‰
- PM è´Ÿè´£ç®¡ç†ï¼ˆæ¿€è¿›æ­¢ç›ˆï¼‰

**ç­–ç•¥ 2ï¼šå¤šè´¦æˆ·æ¨¡å¼**
- ä¸»è´¦æˆ·ï¼šTM è‡ªåŠ¨äº¤æ˜“
- å­è´¦æˆ·ï¼šPM ç®¡ç†æ‰‹åŠ¨å¼€çš„ä»“ä½

**ç­–ç•¥ 3ï¼šå­¦ä¹ æ¨¡å¼**
- TM å®ç›˜äº¤æ˜“
- PM æ¨¡æ‹Ÿç®¡ç†ï¼ˆè§‚å¯ŸAIå†³ç­–ï¼‰

## å¯åŠ¨æ—¥å¿—åŒºåˆ«

### TM å¯åŠ¨æ—¥å¿—
```
ğŸš€ [Auto Trader] è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿå¯åŠ¨
ğŸ’° åˆå§‹ä½™é¢: 1000.00 USDT
âš™ï¸  æ‰«æé—´éš”: 3m0s
ğŸª™ å¸ç§æ± : 8ä¸ªå¸ç§
ğŸ“Š å¼€å§‹æ‰«æå¸‚åœºæœºä¼š...
```

### PM å¯åŠ¨æ—¥å¿—
```
ğŸš€ [Position Manager] ä»“ä½ç®¡ç†ç³»ç»Ÿå¯åŠ¨
ğŸ’° åˆå§‹ä½™é¢: 1000.00 USDT
âš™ï¸  æ‰«æé—´éš”: 5m0s
ğŸ“Š åªç®¡ç†ç°æœ‰ä»“ä½ï¼Œä¸ä¼šå¼€æ–°ä»“
ğŸ“‹ [BTCUSDT long] è¯»å–åˆ°ç°æœ‰è®¢å• - æ­¢æŸ: 95000.0000, æ­¢ç›ˆ: 105000.0000
```

## API æ¥å£

### è·å–æ‰€æœ‰ Trader

```go
// è·å–æ‰€æœ‰äº¤æ˜“æœºå™¨äºº
autoTraders := traderManager.GetAllAutoTraders()

// è·å–æ‰€æœ‰ä»“ä½ç®¡ç†å™¨
positionManagers := traderManager.GetAllPositionManagers()

// è·å–æ‰€æœ‰ï¼ˆå…¼å®¹æ—§ä»£ç ï¼‰
allTraders := traderManager.GetAllTraders()
```

### è·å–ç‰¹å®š Trader

```go
// è·å–äº¤æ˜“æœºå™¨äºº
trader, err := traderManager.GetAutoTrader("trader_id")

// è·å–ä»“ä½ç®¡ç†å™¨
manager, err := traderManager.GetPositionManager("manager_id")

// å…¼å®¹æ—§ä»£ç ï¼ˆåªè¿”å›äº¤æ˜“æœºå™¨äººï¼‰
trader, err := traderManager.GetTrader("trader_id")
```

### å¯¹æ¯”æ•°æ®

```json
{
  "traders": [
    {
      "trader_id": "trader_1",
      "trader_name": "Auto Trader",
      "trader_type": "tm",
      "ai_model": "deepseek",
      "total_equity": 1050.00,
      "total_pnl": 50.00,
      "total_pnl_pct": 5.0,
      "position_count": 2,
      "call_count": 100,
      "is_running": true
    },
    {
      "trader_id": "manager_1",
      "trader_name": "Position Manager",
      "trader_type": "pm",
      "ai_model": "deepseek",
      "call_count": 50,
      "is_running": true
    }
  ],
  "count": 2
}
```

## æœ€ä½³å®è·µ

### TM æœ€ä½³å®è·µ

1. **æ‰«æé—´éš”**ï¼š3-5 åˆ†é’Ÿï¼ˆå¹³è¡¡æœºä¼šæ•æ‰å’ŒAPIæˆæœ¬ï¼‰
2. **å¸ç§æ± **ï¼š5-10 ä¸ªå¸ç§ï¼ˆé¿å…è¿‡åº¦åˆ†æ•£ï¼‰
3. **æ æ†**ï¼šBTC/ETH 5-10xï¼Œå±±å¯¨å¸ 3-5x
4. **é£é™©æ§åˆ¶**ï¼šè®¾ç½®æœ€å¤§äºæŸå’Œæœ€å¤§å›æ’¤

### PM æœ€ä½³å®è·µ

1. **æ‰«æé—´éš”**ï¼š5-10 åˆ†é’Ÿï¼ˆä»“ä½å˜åŒ–è¾ƒæ…¢ï¼‰
2. **åˆå§‹ä½™é¢**ï¼šè®¾ç½®ä¸ºå®é™…è´¦æˆ·ä½™é¢ï¼ˆç”¨äºè®¡ç®—ç›ˆäºï¼‰
3. **æ­¢ç›ˆç­–ç•¥**ï¼šå¯ç”¨ä¸¤é˜¶æ®µç§»åŠ¨æ­¢ç›ˆ
4. **ç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥AIçš„å†³ç­–æ˜¯å¦åˆç†

## æ³¨æ„äº‹é¡¹

### TM æ³¨æ„äº‹é¡¹

âš ï¸ **é£é™©è­¦å‘Š**
- å…¨è‡ªåŠ¨äº¤æ˜“æœ‰é£é™©ï¼Œå»ºè®®å…ˆå°èµ„é‡‘æµ‹è¯•
- è®¾ç½®åˆç†çš„é£é™©æ§åˆ¶å‚æ•°
- å®šæœŸæ£€æŸ¥äº¤æ˜“è®°å½•

âš ï¸ **API é™åˆ¶**
- æ³¨æ„äº¤æ˜“æ‰€APIè°ƒç”¨é¢‘ç‡é™åˆ¶
- å¸å®‰ï¼š1200æ¬¡/åˆ†é’Ÿ
- Hyperliquidï¼šæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´

### PM æ³¨æ„äº‹é¡¹

âš ï¸ **ä»“ä½è¦æ±‚**
- å¿…é¡»æœ‰ç°æœ‰ä»“ä½æ‰èƒ½å·¥ä½œ
- å¦‚æœæ²¡æœ‰ä»“ä½ï¼Œä¼šè·³è¿‡æ‰«æå‘¨æœŸ

âš ï¸ **è®¢å•è¯»å–**
- é¦–æ¬¡å¯åŠ¨ä¼šè¯»å–ç°æœ‰æ­¢ç›ˆæ­¢æŸè®¢å•
- å¦‚æœè¯»å–å¤±è´¥ï¼Œæ­¢æŸ/æ­¢ç›ˆä»·æ ¼ä¸º 0
- å¸å®‰å’Œ Hyperliquid æ”¯æŒï¼ŒAster æš‚ä¸æ”¯æŒ

## æ•…éšœæ’æŸ¥

### TM ä¸å¼€ä»“

1. æ£€æŸ¥å¸ç§æ± é…ç½®
2. æ£€æŸ¥è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³
3. æŸ¥çœ‹æ—¥å¿—ä¸­çš„AIåˆ†æ
4. ç¡®è®¤å¸‚åœºæ¡ä»¶æ˜¯å¦æ»¡è¶³å¼€ä»“æ¡ä»¶

### PM ä¸æ‰§è¡Œæ“ä½œ

1. ç¡®è®¤æ˜¯å¦æœ‰ç°æœ‰ä»“ä½
2. æ£€æŸ¥æ­¢ç›ˆæ­¢æŸæ˜¯å¦æ­£ç¡®è¯»å–
3. æŸ¥çœ‹AIçš„æ€ç»´é“¾åˆ†æ
4. ç¡®è®¤æ‰«æé—´éš”æ˜¯å¦åˆç†

## ç›¸å…³æ–‡æ¡£

- [TWO_STAGE_PROFIT_TAKING.md](TWO_STAGE_PROFIT_TAKING.md) - ä¸¤é˜¶æ®µæ­¢ç›ˆç­–ç•¥
- [FEATURE_READ_EXISTING_ORDERS.md](FEATURE_READ_EXISTING_ORDERS.md) - è¯»å–ç°æœ‰è®¢å•
- [POSITION_MANAGER_README.md](POSITION_MANAGER_README.md) - ä»“ä½ç®¡ç†å™¨è¯¦ç»†è¯´æ˜
- [POSITION_MANAGER_USAGE.md](POSITION_MANAGER_USAGE.md) - ä»“ä½ç®¡ç†å™¨ä½¿ç”¨æŒ‡å—

## ç¤ºä¾‹é…ç½®æ–‡ä»¶

å®Œæ•´çš„é…ç½®ç¤ºä¾‹è¯·å‚è€ƒ `config.json.example`
